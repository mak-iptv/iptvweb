{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reactv\\\\src\\\\components\\\\Vod\\\\MainVod.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setPlaylist } from \"../../actions/set-Playlist\";\nimport { setGroupList } from \"../../actions/set-Group\";\nimport { resetMemory } from \"../../other/last-opened-mode\";\nimport { loadGroup, loadPlaylist } from \"../../other/load-playlist\";\nimport { useParams, useHistory, Route, Switch, useLocation } from \"react-router-dom\";\nimport BackgroundPlayer from \"./BackgroundPlayer\";\nimport GroupRow from \"./GroupRow\";\nimport MoreInfo from \"./MoreInfo\";\nimport PlayerSeries from \"../Series/PlayerSeries\";\nimport RowItem from \"./RowItem\";\nimport PlayerVod from \"./PlayerVod\";\nimport { VariableSizeList as List, VariableSizeGrid as Grid } from \"react-window\";\nimport { convertRemToPixels, convertVhToPixels } from \"../../other/convert-rem\";\nimport Popup from \"../Popup/Popup\";\nimport DB from \"../../other/local-db\";\nimport { Loading } from '../../other/Player-github/style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Container = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\nheight: 100vh;\\noverflow: auto;\\nmax-width: 100%;\\noverflow-x: hidden;\\ntransition: filter 0.5s ease;\\nbackground-color: var(--first-color);\\n\"])));\n_c = Container;\nvar Spin = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\nheight: 100vh;\\noverflow: auto;\\noverflow-y: auto;\\nmax-width: 100%;\\nwidth: 100vw;\\noverflow-x: hidden;\\nbackground-color: transparent;\\nposition: absolute;\\nz-index: 100000000000000000;\\n\\ndisplay:flex;\\njustify-content:center;\\nalign-items:center;\\n\\n\"])));\n_c2 = Spin;\nvar GroupRowContainer = styled.ul(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\npadding-top:2rem;\\npadding-bottom: 2rem;\\nbackground-color: var(--first-color);\\nlist-style-type: none;\\npadding-left: 1.7rem;\\nmax-width: 100vw;\\noverflow: hidden;\\nz-index:1;\\n\"])));\n_c3 = GroupRowContainer;\n\nvar MainVod = function MainVod() {\n  _s();\n\n  var _useParams = useParams(),\n      category = _useParams.category,\n      playingMode = _useParams.playingMode;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      streamList = _useState2[0],\n      setStreamList = _useState2[1]; //downloaded provider\n\n\n  var _useState3 = useState(streamList),\n      _useState4 = _slicedToArray(_useState3, 2),\n      playlist = _useState4[0],\n      setPlaylistState = _useState4[1]; //used on player\n\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allItems = _useState6[0],\n      setAllItems = _useState6[1];\n\n  var _useState7 = useState(-1),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loadedCategory = _useState8[0],\n      setLoadedCategory = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showPopup = _useState10[0],\n      setShowPopup = _useState10[1];\n\n  var categories = useSelector(function (state) {\n    return state.groupsList;\n  });\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      randomMovie = _useState12[0],\n      setRandomMovie = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      blurBackground = _useState14[0],\n      setBlurBackground = _useState14[1];\n\n  var _useState15 = useState(true),\n      _useState16 = _slicedToArray(_useState15, 2),\n      isLoading = _useState16[0],\n      setIsLoading = _useState16[1];\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var location = useLocation();\n  var query = useQuery();\n  var searchText = query.get(\"search\");\n\n  var _useState17 = useState(1),\n      _useState18 = _slicedToArray(_useState17, 2),\n      refresh = _useState18[0],\n      setRefresh = _useState18[1];\n\n  useEffect(function () {\n    if (location.pathname.match(/category/) && !category) showBlur(1);else location.pathname.match(/info|fullscreen|menu/) ? showBlur(1) : showBlur(0);\n  }, [location.pathname, category]);\n  useEffect(function () {\n    if (location.pathname.match(/category/) && !category) showBlur(1);else location.pathname.match(/info|fullscreen|menu/) ? showBlur(1) : showBlur(0);\n    setAllItems(isNaN(category) && category === undefined || location.pathname.match(/info|fullscreen|menu/));\n    if (!location.pathname.match(/info|fullscreen|menu/)) setRandomMovie(_objectSpread({}, searchRandomMovie(isNaN(category) && category === undefined ? playlist : playlist.filter(function (x) {\n      return x.category_id === category;\n    }))));\n  }, [category]);\n  useEffect(function () {\n    if (!searchText) {\n      setPlaylistState(streamList);\n      setShowPopup(0);\n      return;\n    }\n\n    var searched = searchText ? streamList.filter(function (x) {\n      return x.name.toLowerCase().includes(searchText.toLowerCase());\n    }) : streamList;\n\n    if (searched.length === 0) {\n      setPlaylistState(streamList);\n      setShowPopup(1);\n    } else setPlaylistState(searched);\n  }, [searchText]);\n  useEffect(function () {\n    var f = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var cat, reset;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                cat = categories;\n                reset = resetMemory(playingMode);\n\n                if (!(reset === false && (location.pathname.match(/info|fullscreen|menu/) || location.pathname.match(/category/) && category === undefined || category === loadedCategory))) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 4:\n                setLoadedCategory(category);\n                setAllItems(isNaN(category) && category === undefined || location.pathname.match(/info|fullscreen|menu/));\n                showBlur(1);\n                setIsLoading(true);\n                setRefresh(0);\n\n                if (!(reset === true || cat.length === 0)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 12;\n                return loadGroup(playingMode).then(function (gps) {\n                  if (!gps || gps.length === 0) {\n                    history.replace(\"/\");\n                    return;\n                  }\n\n                  gps.unshift({\n                    category_id: \"fav\",\n                    favorite: 1,\n                    category_name: \"Only favorites\"\n                  }, {\n                    category_id: \"toend\",\n                    history: 1,\n                    category_name: \"Continue to watch\"\n                  });\n                  dispatch(setGroupList(gps || []));\n                  cat = gps;\n                });\n\n              case 12:\n                _context.next = 14;\n                return loadPlaylist(playingMode, category || \"ALL\").then(function (chs) {\n                  if (category && isNaN(category)) {\n                    chs = chs.filter(function (s) {\n                      var f = DB.findOne(playingMode, playingMode === \"series\" ? s.series_id : s.stream_id, category === \"fav\");\n                      return f && (category === \"fav\" || f.tot > 3 && f.tot < 95);\n                    });\n                  }\n\n                  dispatch(setPlaylist(chs || []));\n                  showBlur(0);\n                  setStreamList(chs || []);\n                  setPlaylistState(chs || []);\n                  setRandomMovie(_objectSpread({}, searchRandomMovie(isNaN(category) && category === undefined ? chs : chs.filter(function (x) {\n                    return x.category_id === category;\n                  }))));\n                  setRefresh(1);\n                });\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function f() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    f().catch(function (err) {\n      return console.log(err);\n    });\n  }, [dispatch, category, playingMode, location.pathname]);\n\n  var showBlur = function showBlur(mode) {\n    setBlurBackground(mode !== 0 ? {\n      filter: \"blur(.5rem)\",\n      pointerEvents: \"none\"\n    } : {});\n    if (mode === 0) setIsLoading(false);\n  };\n\n  var Row = function Row(_ref2) {\n    var index = _ref2.index,\n        style = _ref2.style;\n    return index === 0 ? randomMovie && randomMovie.name ? /*#__PURE__*/_jsxDEV(BackgroundPlayer, {\n      name: randomMovie.name,\n      category_id: randomMovie.category_id,\n      stream_id: randomMovie.stream_id || randomMovie.series_id,\n      isSeries: playingMode === \"series\",\n      stream_icon: randomMovie.stream_icon || randomMovie.cover,\n      style: style,\n      existingTmdb: randomMovie.tmdb,\n      title: category && (isNaN(category) ? \"Continue to watch\" : categories.find(function (x) {\n        return parseInt(x.category_id) === parseInt(category);\n      }).category_name)\n    }, \"bg-\".concat(randomMovie.stream_id || randomMovie.series_id), false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }, _this) : /*#__PURE__*/_jsxDEV(GroupRow, {\n      category_id: categories[index - 1].category_id,\n      name: categories[index - 1].category_name,\n      isSeries: playingMode === \"series\",\n      playlist: getGroupRowPlaylist(index),\n      style: _objectSpread(_objectSpread({}, style), {}, {\n        paddingLeft: \"1.8rem\",\n        textDecoration: \"none\"\n      })\n    }, categories[index - 1].category_id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var Cell = function Cell(_ref3) {\n    var columnIndex = _ref3.columnIndex,\n        rowIndex = _ref3.rowIndex,\n        style = _ref3.style;\n\n    if (rowIndex === 0) {\n      if (columnIndex !== 0) return null;else {\n        return randomMovie && randomMovie.name ? [/*#__PURE__*/_jsxDEV(BackgroundPlayer, {\n          name: randomMovie.name,\n          category_id: randomMovie.category_id,\n          stream_id: randomMovie.stream_id || randomMovie.series_id,\n          isSeries: playingMode === \"series\",\n          stream_icon: randomMovie.stream_icon || randomMovie.cover,\n          style: style,\n          existingTmdb: randomMovie.tmdb,\n          title: category && (isNaN(category) ? getOtherCategoryName(category) : categories.find(function (x) {\n            return parseInt(x.category_id) === parseInt(category);\n          }).category_name)\n        }, \"bg-\".concat(randomMovie.stream_id || randomMovie.series_id), false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 18\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }, _this)] : /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: \"white\",\n            marginLeft: \"1%\"\n          },\n          children: category && categories.length > 0 && (isNaN(category) ? getOtherCategoryName(category) : categories.find(function (x) {\n            return parseInt(x.category_id) === parseInt(category);\n          }).category_name)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 17\n        }, _this);\n      }\n    } else {\n      var index = (rowIndex - 1) * 6 + columnIndex;\n      if (!playlist[index]) return null;\n      return /*#__PURE__*/_jsxDEV(RowItem, {\n        id: index,\n        name: playlist[index].name,\n        stream_icon: playlist[index].stream_icon || playlist[index].cover,\n        stream_id: playlist[index].stream_id || playlist[index].series_id,\n        stream_url: playlist[index].direct_source,\n        isSeries: playingMode === \"series\",\n        container_extension: playlist[index].container_extension,\n        category_id: playlist[index].category_id,\n        existingTmdb: playlist[index].tmdb,\n        last: false,\n        style: _objectSpread(_objectSpread({}, style), {}, {\n          paddingBottom: \".7rem\",\n          marginLeft: \"1%\",\n          textDecoration: \"none\"\n        })\n      }, \"vod\" + (playlist[index].stream_id || playlist[index].series_id), false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, _this);\n    }\n  };\n\n  var getGroupRowPlaylist = function getGroupRowPlaylist(index) {\n    if (categories[index - 1].history === 1 || categories[index - 1].favorite === 1) {\n      return playlist.filter(function (s) {\n        var f = DB.findOne(playingMode, playingMode === \"series\" ? s.series_id : s.stream_id, categories[index - 1].favorite === 1);\n        return f && (categories[index - 1].favorite === 1 || f.tot > 3 && f.tot < 95);\n      });\n    } else {\n      return playlist.filter(function (s) {\n        return parseInt(s.category_id) === parseInt(categories[index - 1].category_id);\n      });\n    }\n  };\n\n  var getOtherCategoryName = function getOtherCategoryName(cat) {\n    return cat === \"fav\" ? \"Only favorites\" : \"Continue to watch\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:playingMode/\",\n      children: [isLoading === true && /*#__PURE__*/_jsxDEV(Spin, {\n        children: /*#__PURE__*/_jsxDEV(Loading, {\n          color: \"var(--second-color);\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 27\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 27\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 27\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 42\n      }, _this), /*#__PURE__*/_jsxDEV(Container, {\n        style: _objectSpread(_objectSpread({}, blurBackground), {}, {\n          overflowY: \"hidden\"\n        }),\n        children: /*#__PURE__*/_jsxDEV(GroupRowContainer, {\n          style: {\n            paddingLeft: \"0rem\",\n            paddingTop: 0\n          },\n          children: refresh !== 0 && (allItems && playlist.length > 0 ? /*#__PURE__*/_jsxDEV(List, {\n            refresh: refresh,\n            height: convertVhToPixels(\"100vh\") - convertRemToPixels(3.5),\n            itemCount: categories.length + 1,\n            itemSize: function itemSize(index) {\n              if (index === 0) return convertVhToPixels(\"70vh\");else if (getGroupRowPlaylist(index).length > 0) {\n                return convertVhToPixels(\"15vw\") * 1.8;\n              } else {\n                return 0;\n              }\n            },\n            useIsScrolling: true,\n            style: {\n              overflowX: \"hidden\"\n            },\n            children: Row\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, _this) : /*#__PURE__*/_jsxDEV(Grid, {\n            columnCount: 6,\n            columnWidth: function columnWidth(index) {\n              return index === 0 ? convertVhToPixels(\"16.6vw\") : convertVhToPixels(\"16.6vw\");\n            },\n            height: convertVhToPixels(\"100vh\") - convertRemToPixels(3.5),\n            rowCount: parseInt(Math.ceil(playlist.length / 6)) + 1,\n            rowHeight: function rowHeight(index) {\n              if (index === 0) {\n                if (randomMovie && randomMovie.name) return convertVhToPixels(\"70vh\");else return convertVhToPixels(\"5vh\");\n              } else return convertVhToPixels(\"15vw\") * 1.5;\n            },\n            width: convertVhToPixels(\"100vw\"),\n            useIsScrolling: true,\n            style: {\n              overflowX: \"hidden\"\n            },\n            children: Cell\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 25\n          }, _this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, _this), showPopup && /*#__PURE__*/_jsxDEV(Popup, {\n        title: \"No stream found with '\".concat(searchText, \"'\"),\n        description: \"Search will be resetted.\",\n        icon: \"fas fa-search\",\n        onclick: function onclick() {\n          setShowPopup(0);\n          history.replace(location.pathname.split(\"?\")[0]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 31\n      }, _this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/movie/category/:category/:stream_id/play/\",\n          children: /*#__PURE__*/_jsxDEV(PlayerVod, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/series/category/:category/:stream_id/play/season/:season/episode/:episode/\",\n          children: /*#__PURE__*/_jsxDEV(PlayerSeries, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/:playingMode/category/:category/:stream_id/info/\",\n          children: /*#__PURE__*/_jsxDEV(MoreInfo, {}, \"info-\" + category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(MainVod, \"1SV7EUveg2Bxv9oIec2OffYDyrs=\", false, function () {\n  return [useParams, useSelector, useDispatch, useHistory, useLocation, useQuery];\n});\n\n_c4 = MainVod;\nexport default MainVod;\n\nfunction searchRandomMovie(playlist) {\n  playlist = playlist.filter(function (x) {\n    return !x.name.match(/xxx|porn|sex|bbc|bitch|cunt|cock|cum|piss|anal|tits|blowjob|masturbate|dick|suck|gangbang/i);\n  });\n  var tempPlaylist = playlist.filter(function (x) {\n    return x.rating >= 7;\n  });\n\n  if (tempPlaylist.length > 0) {\n    return _objectSpread({}, tempPlaylist[Math.floor(Math.random() * tempPlaylist.length)]);\n  } else return _objectSpread({}, playlist[Math.floor(Math.random() * playlist.length)]);\n}\n\nvar useQuery = function useQuery() {\n  _s2();\n\n  return new URLSearchParams(useLocation().search);\n};\n\n_s2(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Spin\");\n$RefreshReg$(_c3, \"GroupRowContainer\");\n$RefreshReg$(_c4, \"MainVod\");","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/components/Vod/MainVod.js"],"names":["React","useEffect","useState","styled","useSelector","useDispatch","setPlaylist","setGroupList","resetMemory","loadGroup","loadPlaylist","useParams","useHistory","Route","Switch","useLocation","BackgroundPlayer","GroupRow","MoreInfo","PlayerSeries","RowItem","PlayerVod","VariableSizeList","List","VariableSizeGrid","Grid","convertRemToPixels","convertVhToPixels","Popup","DB","Loading","Container","div","Spin","GroupRowContainer","ul","MainVod","category","playingMode","streamList","setStreamList","playlist","setPlaylistState","allItems","setAllItems","loadedCategory","setLoadedCategory","showPopup","setShowPopup","categories","state","groupsList","randomMovie","setRandomMovie","blurBackground","setBlurBackground","isLoading","setIsLoading","dispatch","history","location","query","useQuery","searchText","get","refresh","setRefresh","pathname","match","showBlur","isNaN","undefined","searchRandomMovie","filter","x","category_id","searched","name","toLowerCase","includes","length","f","cat","reset","then","gps","replace","unshift","favorite","category_name","chs","s","findOne","series_id","stream_id","tot","catch","err","console","log","mode","pointerEvents","Row","index","style","stream_icon","cover","tmdb","find","parseInt","getGroupRowPlaylist","paddingLeft","textDecoration","Cell","columnIndex","rowIndex","getOtherCategoryName","color","marginLeft","direct_source","container_extension","paddingBottom","overflowY","paddingTop","overflowX","Math","ceil","split","tempPlaylist","rating","floor","random","URLSearchParams","search"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled from \"styled-components\"\nimport {useSelector, useDispatch} from \"react-redux\"\n\nimport {setPlaylist} from \"../../actions/set-Playlist\"\nimport {setGroupList} from \"../../actions/set-Group\"\n\nimport {resetMemory} from \"../../other/last-opened-mode\"\n\nimport {loadGroup,loadPlaylist} from \"../../other/load-playlist\"\nimport {useParams, useHistory, Route,Switch, useLocation} from \"react-router-dom\";\n\nimport BackgroundPlayer from \"./BackgroundPlayer\"\nimport GroupRow from \"./GroupRow\"\nimport MoreInfo from \"./MoreInfo\"\nimport PlayerSeries from \"../Series/PlayerSeries\"\n\nimport RowItem from \"./RowItem\"\nimport PlayerVod from \"./PlayerVod\"\n\nimport { VariableSizeList as List, VariableSizeGrid as Grid } from \"react-window\";\nimport {convertRemToPixels, convertVhToPixels} from \"../../other/convert-rem\"\nimport Popup from \"../Popup/Popup\"\n\nimport DB from \"../../other/local-db\"\n\nimport {\n    Loading,\n  } from '../../other/Player-github/style';\n\nconst Container = styled.div`\nheight: 100vh;\noverflow: auto;\nmax-width: 100%;\noverflow-x: hidden;\ntransition: filter 0.5s ease;\nbackground-color: var(--first-color);\n`\n\nconst Spin = styled.div`\nheight: 100vh;\noverflow: auto;\noverflow-y: auto;\nmax-width: 100%;\nwidth: 100vw;\noverflow-x: hidden;\nbackground-color: transparent;\nposition: absolute;\nz-index: 100000000000000000;\n\ndisplay:flex;\njustify-content:center;\nalign-items:center;\n\n`\n\nconst GroupRowContainer = styled.ul`\npadding-top:2rem;\npadding-bottom: 2rem;\nbackground-color: var(--first-color);\nlist-style-type: none;\npadding-left: 1.7rem;\nmax-width: 100vw;\noverflow: hidden;\nz-index:1;\n`\n\nconst MainVod = () => {\n    const { category, playingMode } = useParams();\n\n    const [streamList, setStreamList] = useState([])  //downloaded provider\n    const [playlist, setPlaylistState] = useState(streamList); //used on player\n    \n    const [allItems, setAllItems] = useState(true)\n    const [loadedCategory, setLoadedCategory] = useState(-1)\n    const [showPopup, setShowPopup] = useState(false);\n\n    const categories = useSelector(state => state.groupsList);\n\n    const [randomMovie, setRandomMovie] = useState()\n\n    const [blurBackground, setBlurBackground] = useState()\n    const [isLoading, setIsLoading] = useState(true)\n\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const location = useLocation()\n\n    const query = useQuery();\n    const searchText = query.get(\"search\");\n\n    const [refresh, setRefresh] = useState(1);\n\n    useEffect(() => {\n        if(location.pathname.match(/category/) && !category)\n            showBlur(1)\n        else location.pathname.match(/info|fullscreen|menu/) ? showBlur(1) : showBlur(0);\n      }, [location.pathname, category]);\n\n    useEffect(()=>{\n        if(location.pathname.match(/category/) && !category)\n            showBlur(1)\n        else location.pathname.match(/info|fullscreen|menu/) ? showBlur(1) : showBlur(0);\n        setAllItems(((isNaN(category) && category === undefined) || location.pathname.match(/info|fullscreen|menu/)))\n        if(!location.pathname.match(/info|fullscreen|menu/)) \n            setRandomMovie({...searchRandomMovie((isNaN(category) && category === undefined) ? playlist : playlist.filter(x=> x.category_id === category))})\n    },[category])\n\n    useEffect(() => {\n        if(!searchText){\n            setPlaylistState(streamList)\n            setShowPopup(0)\n            return;\n        }\n        const searched = searchText ? streamList.filter(x => x.name.toLowerCase().includes(searchText.toLowerCase())) : streamList\n        if (searched.length === 0) {\n            setPlaylistState(streamList)\n            setShowPopup(1)\n        }else setPlaylistState(searched)\n    }, [searchText]);\n\n    useEffect(() => {\n        const f = async()=> {\n            let cat = categories\n            const reset = resetMemory(playingMode);\n            if(reset === false && (location.pathname.match(/info|fullscreen|menu/) || (location.pathname.match(/category/) && category === undefined) || category === loadedCategory)) {\n                return;\n            }\n\n            setLoadedCategory(category);\n            setAllItems(((isNaN(category) && category === undefined) || location.pathname.match(/info|fullscreen|menu/)))\n\n            showBlur(1);\n            setIsLoading(true);\n\n            setRefresh(0)\n            if (reset === true || cat.length === 0) {\n                await loadGroup(playingMode).then(gps => {\n                    if (!gps || gps.length === 0) {\n                        history.replace(\"/\")\n                        return;\n                    }\n                    gps.unshift({category_id:\"fav\", favorite:1, category_name: \"Only favorites\"},{category_id:\"toend\", history: 1, category_name:\"Continue to watch\"})\n                    dispatch(setGroupList(gps || []));\n                    cat = gps\n                })               \n            }\n            await loadPlaylist(playingMode, category || \"ALL\").then(chs => {\n                if(category && isNaN(category)){\n                    chs = chs.filter(s=> {\n                        const f = DB.findOne(playingMode, playingMode === \"series\" ? s.series_id : s.stream_id, category === \"fav\")\n                        return f && (category === \"fav\" ||  (f.tot > 3 &&  f.tot < 95) );\n                    })\n                }\n                dispatch(setPlaylist(chs || []));\n                showBlur(0);\n                setStreamList(chs||[]);\n                setPlaylistState(chs || []);\n                setRandomMovie({...searchRandomMovie((isNaN(category) && category === undefined) ? chs : chs.filter(x=> x.category_id === category))})\n                setRefresh(1)\n            })\n        }\n        f().catch(err=>console.log(err))\n    }, [dispatch, category, playingMode, location.pathname])\n\n    const showBlur = (mode) =>{\n        setBlurBackground(mode !== 0 ? {filter:\"blur(.5rem)\",  pointerEvents: \"none\"} : {});\n        if(mode===0)\n            setIsLoading(false)\n    }\n\n    const Row = ({ index, style }) => (\n        index===0 ?\n            randomMovie && randomMovie.name ? \n                <BackgroundPlayer \n                key={`bg-${randomMovie.stream_id || randomMovie.series_id}`} \n                name={randomMovie.name} category_id={randomMovie.category_id} \n                stream_id={randomMovie.stream_id || randomMovie.series_id} \n                isSeries={playingMode===\"series\"} \n                stream_icon={randomMovie.stream_icon || randomMovie.cover}\n                style={style}\n                existingTmdb={randomMovie.tmdb}\n                title= {category && (isNaN(category) ? \"Continue to watch\" : categories.find(x=> parseInt(x.category_id) === parseInt(category)).category_name)}\n                />\n                :\n                <div></div>\n        :\n            <GroupRow \n            key={categories[index-1].category_id} \n            category_id={categories[index-1].category_id} \n            name={categories[index-1].category_name} \n            isSeries={playingMode===\"series\"} \n            playlist={ getGroupRowPlaylist(index)} \n            style={{...style, paddingLeft: \"1.8rem\", textDecoration: \"none\"}}/>\n    );\n\n    const Cell = ({ columnIndex, rowIndex, style }) => {\n        if(rowIndex === 0){\n            if(columnIndex !== 0)\n                return null\n            else{\n                return randomMovie && randomMovie.name ? \n                [<BackgroundPlayer \n                    key={`bg-${randomMovie.stream_id || randomMovie.series_id}`} \n                    name={randomMovie.name} category_id={randomMovie.category_id} \n                    stream_id={randomMovie.stream_id || randomMovie.series_id} \n                    isSeries={playingMode===\"series\"} \n                    stream_icon={randomMovie.stream_icon || randomMovie.cover}\n                    style={style}\n                    existingTmdb={randomMovie.tmdb}\n                    title= {category && (isNaN(category) ? getOtherCategoryName(category) : categories.find(x=> parseInt(x.category_id) === parseInt(category)).category_name)}\n                />,\n                <div></div>]\n                :\n                <h3 style={{color:\"white\", marginLeft: \"1%\"}}>{category && categories.length > 0 && (isNaN(category) ? getOtherCategoryName(category) : categories.find(x=> parseInt(x.category_id) === parseInt(category)).category_name)}</h3>\n            }\n        }else{\n            const index = ((rowIndex-1)*6)+columnIndex;\n            if(!playlist[index])\n                return null;\n            return(\n                <RowItem id={index} key={\"vod\"+(playlist[index].stream_id || playlist[index].series_id)} \n                name={playlist[index].name} \n                stream_icon={playlist[index].stream_icon || playlist[index].cover} \n                stream_id={playlist[index].stream_id || playlist[index].series_id} \n                stream_url={playlist[index].direct_source} \n                isSeries={playingMode===\"series\"} \n                container_extension={playlist[index].container_extension}\n                category_id={playlist[index].category_id}  \n                existingTmdb={playlist[index].tmdb}\n                last={false} style={{...style,paddingBottom:\".7rem\", marginLeft:\"1%\", textDecoration: \"none\"}}/>\n          )\n\n        }\n    };\n\n    const getGroupRowPlaylist = (index) => {\n        if (categories[index - 1].history === 1 || categories[index - 1].favorite === 1) {\n            return playlist.filter(s => {\n                const f = DB.findOne(playingMode, playingMode === \"series\" ? s.series_id : s.stream_id, categories[index - 1].favorite === 1)\n                return f && (categories[index - 1].favorite === 1 || (f.tot > 3 &&  f.tot < 95));\n            })\n        } else {\n            return playlist.filter(s => parseInt(s.category_id) === parseInt(categories[index - 1].category_id))\n        }\n    }\n\n    const getOtherCategoryName = (cat) => cat === \"fav\" ? \"Only favorites\" : \"Continue to watch\"\n\n\n    return (\n        <div>\n            <Route path=\"/:playingMode/\">\n                { isLoading === true && (<Spin>\n                    <Loading color={\"var(--second-color);\"}>\n                        <div>\n                          <div />\n                          <div />\n                          <div />\n                        </div>\n                    </Loading>\n                </Spin>)}\n                <Container style={{...blurBackground, overflowY:\"hidden\"}}>\n                    <GroupRowContainer style={{paddingLeft: \"0rem\", paddingTop:0}}>\n                    {refresh !== 0 &&\n                    (allItems && playlist.length>0 ?\n                        <List\n                        refresh={refresh}\n                          height={convertVhToPixels(\"100vh\") - convertRemToPixels(3.5)}\n                          itemCount={categories.length + 1}\n                          itemSize={(index) => {\n                              if(index === 0)\n                                return convertVhToPixels(\"70vh\");\n                            else if(getGroupRowPlaylist(index).length > 0){\n                                return convertVhToPixels(\"15vw\")*1.8\n                            }else {\n                                return 0\n                            }\n                        }}\n                          useIsScrolling={true}\n                          style={{overflowX:\"hidden\"}}\n                        >{Row}</List>\n                    :\n                        <Grid\n                          columnCount={6}\n                          columnWidth={(index)=> index===0 ? convertVhToPixels(\"16.6vw\") : (convertVhToPixels(\"16.6vw\"))}\n                          height={convertVhToPixels(\"100vh\") - convertRemToPixels(3.5)}\n                          rowCount={parseInt(Math.ceil((playlist.length / 6)))+1}\n                          rowHeight={(index)=> {\n                              if(index===0){\n                                  if((randomMovie && randomMovie.name))\n                                    return convertVhToPixels(\"70vh\")\n                                else return convertVhToPixels(\"5vh\")\n                              }else return convertVhToPixels(\"15vw\")*1.5\n                        }}\n                          width={convertVhToPixels(\"100vw\")}\n                          useIsScrolling={true}\n                          style={{overflowX:\"hidden\"}}    \n                        >\n                          {Cell}\n                        </Grid>\n                    )}\n                    </GroupRowContainer>             \n                </Container>\n                {showPopup && <Popup title={`No stream found with '${searchText}'`} description={\"Search will be resetted.\"} icon={\"fas fa-search\"}  onclick={()=>{\n                  setShowPopup(0);\n                  history.replace(location.pathname.split(\"?\")[0])\n                }}/>}\n                <Switch>\n                    <Route path=\"/movie/category/:category/:stream_id/play/\">\n                        <PlayerVod/>\n                    </Route>\n                    <Route path=\"/series/category/:category/:stream_id/play/season/:season/episode/:episode/\">\n                        <PlayerSeries/>\n                    </Route>\n                    <Route path=\"/:playingMode/category/:category/:stream_id/info/\">\n                        <MoreInfo key={\"info-\"+category}/>\n                    </Route>\n                </Switch>\n            </Route>\n        </div>\n    )\n}\n\nexport default MainVod\n\n\nfunction searchRandomMovie(playlist){\n    playlist = playlist.filter(x=> !x.name.match(/xxx|porn|sex|bbc|bitch|cunt|cock|cum|piss|anal|tits|blowjob|masturbate|dick|suck|gangbang/i));\n    const tempPlaylist = playlist.filter(x=> x.rating >= 7)\n    if(tempPlaylist.length > 0){\n        return {...tempPlaylist[Math.floor(Math.random() * tempPlaylist.length)]}\n    }else return {...playlist[Math.floor(Math.random() * playlist.length)]}\n}\n\nconst useQuery = () => {\n    return new URLSearchParams(useLocation().search);\n}\n  "]},"metadata":{},"sourceType":"module"}