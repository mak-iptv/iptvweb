{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Axios from \"axios\";\nimport Cookies from 'js-cookie';\nimport qs from \"qs\";\nvar dns = null;\nvar proxyRequired = window.cors || false;\nsetDns(window.dns);\n/* --------- GET REQUEST --------- */\n\nexport function get(_x) {\n  return _get.apply(this, arguments);\n}\n/* --------- POST REQUEST (Xtream Login) --------- */\n\nfunction _get() {\n  _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url) {\n    var uri;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (dns) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 2:\n            uri = dns + url;\n            if (proxyRequired) uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n            return _context.abrupt(\"return\", Axios.get(uri, {\n              timeout: 25000\n            }).catch(function (err) {\n              return err;\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _get.apply(this, arguments);\n}\n\nexport function post(_x2) {\n  return _post.apply(this, arguments);\n}\n/* --------- SET DNS --------- */\n\nfunction _post() {\n  _post = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url) {\n    var params,\n        useProxy,\n        uri,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            params = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n            useProxy = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : false;\n\n            if (dns) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", null);\n\n          case 4:\n            uri = dns + url;\n            if (proxyRequired || useProxy) uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n            return _context2.abrupt(\"return\", Axios.post(uri, qs.stringify(params), {\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n              },\n              timeout: 25000\n            }).catch(function (err) {\n              if (!useProxy && !proxyRequired && !err.response) return post(url, params, true);\n              return err;\n            }));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _post.apply(this, arguments);\n}\n\nexport function setDns(data) {\n  if (!data) return;\n  if (data[data.length - 1] !== \"/\") data += \"/\";\n  dns = data;\n  Cookies.set(\"dns\", data, {\n    expires: 365\n  });\n}\n/* --------- GET DNS --------- */\n\nexport function getDns() {\n  return dns;\n}\n/* --------- GET IPTVEDITOR FLAG (always false) --------- */\n\nexport function getIsIptveditor() {\n  return false;\n}","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/other/axios.js"],"names":["Axios","Cookies","qs","dns","proxyRequired","window","cors","setDns","get","url","uri","encodeURIComponent","timeout","catch","err","post","params","useProxy","stringify","headers","response","data","length","set","expires","getDns","getIsIptveditor"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,IAAIC,GAAG,GAAG,IAAV;AACA,IAAIC,aAAa,GAAGC,MAAM,CAACC,IAAP,IAAe,KAAnC;AAEAC,MAAM,CAACF,MAAM,CAACF,GAAR,CAAN;AAEA;;AACA,gBAAsBK,GAAtB;AAAA;AAAA;AAWA;;;kEAXO,iBAAmBC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACEN,GADF;AAAA;AAAA;AAAA;;AAAA,6CACc,IADd;;AAAA;AAGCO,YAAAA,GAHD,GAGOP,GAAG,GAAGM,GAHb;AAKH,gBAAIL,aAAJ,EACIM,GAAG,GAAG,oBAAoBC,kBAAkB,CAACD,GAAD,CAA5C;AAND,6CAQIV,KAAK,CAACQ,GAAN,CAAUE,GAAV,EAAe;AAAEE,cAAAA,OAAO,EAAE;AAAX,aAAf,EAAmCC,KAAnC,CAAyC,UAAAC,GAAG;AAAA,qBAAIA,GAAJ;AAAA,aAA5C,CARJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAYP,gBAAsBC,IAAtB;AAAA;AAAA;AAsBA;;;mEAtBO,kBAAoBN,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyBO,YAAAA,MAAzB,8DAAkC,EAAlC;AAAsCC,YAAAA,QAAtC,8DAAiD,KAAjD;;AAAA,gBACEd,GADF;AAAA;AAAA;AAAA;;AAAA,8CACc,IADd;;AAAA;AAGCO,YAAAA,GAHD,GAGOP,GAAG,GAAGM,GAHb;AAKH,gBAAIL,aAAa,IAAIa,QAArB,EACIP,GAAG,GAAG,oBAAoBC,kBAAkB,CAACD,GAAD,CAA5C;AAND,8CAQIV,KAAK,CAACe,IAAN,CACHL,GADG,EAEHR,EAAE,CAACgB,SAAH,CAAaF,MAAb,CAFG,EAGH;AACIG,cAAAA,OAAO,EAAE;AAAE,gCAAgB;AAAlB,eADb;AAEIP,cAAAA,OAAO,EAAE;AAFb,aAHG,EAOLC,KAPK,CAOC,UAAAC,GAAG,EAAI;AACX,kBAAI,CAACG,QAAD,IAAa,CAACb,aAAd,IAA+B,CAACU,GAAG,CAACM,QAAxC,EACI,OAAOL,IAAI,CAACN,GAAD,EAAMO,MAAN,EAAc,IAAd,CAAX;AACJ,qBAAOF,GAAP;AACH,aAXM,CARJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAuBP,OAAO,SAASP,MAAT,CAAgBc,IAAhB,EAAsB;AACzB,MAAI,CAACA,IAAL,EAAW;AAEX,MAAIA,IAAI,CAACA,IAAI,CAACC,MAAL,GAAc,CAAf,CAAJ,KAA0B,GAA9B,EACID,IAAI,IAAI,GAAR;AAEJlB,EAAAA,GAAG,GAAGkB,IAAN;AACApB,EAAAA,OAAO,CAACsB,GAAR,CAAY,KAAZ,EAAmBF,IAAnB,EAAyB;AAAEG,IAAAA,OAAO,EAAE;AAAX,GAAzB;AACH;AAED;;AACA,OAAO,SAASC,MAAT,GAAkB;AACrB,SAAOtB,GAAP;AACH;AAED;;AACA,OAAO,SAASuB,eAAT,GAA2B;AAC9B,SAAO,KAAP;AACH","sourcesContent":["import Axios from \"axios\";\nimport Cookies from 'js-cookie';\nimport qs from \"qs\";\n\nlet dns = null;\nlet proxyRequired = window.cors || false;\n\nsetDns(window.dns);\n\n/* --------- GET REQUEST --------- */\nexport async function get(url) {\n    if (!dns) return null;\n\n    let uri = dns + url;\n\n    if (proxyRequired)\n        uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n\n    return Axios.get(uri, { timeout: 25000 }).catch(err => err);\n}\n\n/* --------- POST REQUEST (Xtream Login) --------- */\nexport async function post(url, params = {}, useProxy = false) {\n    if (!dns) return null;\n\n    let uri = dns + url;\n\n    if (proxyRequired || useProxy)\n        uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n\n    return Axios.post(\n        uri,\n        qs.stringify(params),\n        {\n            headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n            timeout: 25000\n        }\n    ).catch(err => {\n        if (!useProxy && !proxyRequired && !err.response)\n            return post(url, params, true);\n        return err;\n    });\n}\n\n/* --------- SET DNS --------- */\nexport function setDns(data) {\n    if (!data) return;\n\n    if (data[data.length - 1] !== \"/\")\n        data += \"/\";\n\n    dns = data;\n    Cookies.set(\"dns\", data, { expires: 365 });\n}\n\n/* --------- GET DNS --------- */\nexport function getDns() {\n    return dns;\n}\n\n/* --------- GET IPTVEDITOR FLAG (always false) --------- */\nexport function getIsIptveditor() {\n    return false;\n}\n"]},"metadata":{},"sourceType":"module"}