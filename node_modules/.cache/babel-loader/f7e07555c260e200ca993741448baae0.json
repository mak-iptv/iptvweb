{"ast":null,"code":"import { getInfo } from \"./user_info\";\nimport { getDns, getIsIptveditor } from \"./axios\";\nexport function generateUrl(type, id, extension) {\n  var dns = getIsIptveditor() === true ? process.env.REACT_APP_IPTVEDITOR_API : getDns();\n  var user = getInfo().username;\n  var pass = getInfo().password;\n  return \"\".concat(dns).concat(type, \"/\").concat(user, \"/\").concat(pass, \"/\").concat(id, \".\").concat(getIsIptveditor() === true ? \"mp4\" : extension);\n}\nexport function convertTsToM3u8(ip) {\n  var url = ip;\n  url = url.replace(\"/live/\", \"/\").replace(/\\.ts|\\.m3u8/g, \"\");\n  var splitted = url.split(\"/\");\n  var id = splitted[splitted.length - 1];\n  if (isNaN(id)) return ip;\n  var user = splitted[splitted.length - 3];\n  var pass = splitted[splitted.length - 2];\n  var domain = splitted.slice(0, splitted.length - 3).join(\"/\");\n  return domain + \"/live/\" + user + \"/\" + pass + \"/\" + id + \".m3u8\";\n}\nexport function catchupUrlGenerator(ip, time, duration) {\n  var url = ip;\n  time = timeConverter(time);\n  url = url.replace(\"/live/\", \"/\").replace(/\\.ts|\\.m3u8/g, \"\");\n  var splitted = url.split(\"/\");\n  var id = splitted[splitted.length - 1];\n  if (isNaN(id)) return ip;\n  var user = splitted[splitted.length - 3];\n  var pass = splitted[splitted.length - 2];\n  var domain = splitted.slice(0, splitted.length - 3).join(\"/\");\n  return domain + \"/timeshift/\" + user + \"/\" + pass + \"/\" + duration + \"/\" + time.split(\":\").slice(0, -1).join(\":\").replace(\" \", \":\") + \"/\" + id + \".m3u8\";\n}\n\nvar timeConverter = function timeConverter(time) {\n  var a = new Date(time);\n  var year = a.getFullYear();\n  var month = a.getMonth() + 1;\n  var day = a.getDate();\n  var hour = a.getHours();\n  var min = a.getMinutes();\n  var sec = a.getSeconds();\n  return year + \"-\" + (month < 10 ? \"0\" + month : month) + \"-\" + (day < 10 ? \"0\" + day : day) + \" \" + (hour < 10 ? \"0\" + hour : hour) + ':' + (min < 10 ? \"0\" + min : min) + ':' + (sec < 10 ? \"0\" + sec : sec);\n};\n\nexport default {\n  generateUrl: generateUrl,\n  catchupUrlGenerator: catchupUrlGenerator\n};","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/other/generate-url.js"],"names":["getInfo","getDns","getIsIptveditor","generateUrl","type","id","extension","dns","process","env","REACT_APP_IPTVEDITOR_API","user","username","pass","password","convertTsToM3u8","ip","url","replace","splitted","split","length","isNaN","domain","slice","join","catchupUrlGenerator","time","duration","timeConverter","a","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","min","getMinutes","sec","getSeconds"],"mappings":"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","sourcesContent":["import {getInfo} from \"./user_info\"\nimport {getDns, getIsIptveditor} from \"./axios\"\n\nexport function generateUrl (type, id, extension){\n    const dns = getIsIptveditor()===true ? process.env.REACT_APP_IPTVEDITOR_API : getDns();\n    const user = getInfo().username;\n    const pass = getInfo().password;\n    return `${dns}${type}/${user}/${pass}/${id}.${ getIsIptveditor()===true ? \"mp4\" : extension}`\n}\n\nexport function convertTsToM3u8(ip) {\n    let url = ip;\n    url = url.replace(\"/live/\",\"/\").replace(/\\.ts|\\.m3u8/g,\"\")\n    const splitted = url.split(\"/\");\n\n    const id = splitted[splitted.length-1];\n    if(isNaN(id))\n        return ip;\n    const user = splitted[splitted.length-3];\n    const pass = splitted[splitted.length-2];\n    const domain = splitted.slice(0,splitted.length-3).join(\"/\");\n\n    return domain + \"/live/\" + user + \"/\" + pass + \"/\" + id + \".m3u8\";\n}\n\nexport function catchupUrlGenerator (ip,time, duration){\n    let url = ip;\n    time = timeConverter(time)\n    url = url.replace(\"/live/\",\"/\").replace(/\\.ts|\\.m3u8/g,\"\")\n    const splitted = url.split(\"/\");\n\n    const id = splitted[splitted.length-1];\n    if(isNaN(id))\n        return ip;\n    const user = splitted[splitted.length-3];\n    const pass = splitted[splitted.length-2];\n    const domain = splitted.slice(0,splitted.length-3).join(\"/\");\n\n    return domain + \"/timeshift/\" + user + \"/\" + pass + \"/\" + duration + \"/\" + time.split(\":\").slice(0,-1).join(\":\").replace(\" \",\":\") + \"/\" + id + \".m3u8\";\n}\n\nconst timeConverter = (time) =>{\n    const a = new Date(time);\n    const year = a.getFullYear();\n    const month = a.getMonth()+1;\n    const day = a.getDate();\n    const hour = a.getHours();\n    const min = a.getMinutes();\n    const sec = a.getSeconds();\n\n    return year + \"-\" + (month < 10 ? \"0\"+month : month) + \"-\" + (day < 10 ? \"0\"+day : day) + \" \" + (hour < 10 ? \"0\"+hour : hour) + ':' + (min < 10 ? \"0\"+min : min) + ':' + (sec < 10 ? \"0\"+sec : sec);\n};\n\nexport default {generateUrl, catchupUrlGenerator}\n"]},"metadata":{},"sourceType":"module"}