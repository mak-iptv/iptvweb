{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport qs from \"qs\";\nvar dns = null;\nvar proxyRequired = window.cors || false;\nsetDns(window.dns);\n/* -------------------- GET -------------------- */\n\nexport function get(_x) {\n  return _get.apply(this, arguments);\n}\n/* -------------------- POST (Xtream Login) -------------------- */\n\nfunction _get() {\n  _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url) {\n    var uri;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (dns) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 2:\n            uri = dns + url;\n            if (proxyRequired === true) uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n            return _context.abrupt(\"return\", Axios.get(uri, {\n              timeout: 25000\n            }).catch(function (err) {\n              return err;\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _get.apply(this, arguments);\n}\n\nexport function post(_x2) {\n  return _post.apply(this, arguments);\n}\n/* -------------------- SET DNS -------------------- */\n\nfunction _post() {\n  _post = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url) {\n    var params,\n        local,\n        useProxy,\n        uri,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            params = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n            local = _args2.length > 2 ? _args2[2] : undefined;\n            useProxy = _args2.length > 3 ? _args2[3] : undefined;\n\n            if (dns) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", null);\n\n          case 5:\n            uri = dns + url;\n            if (proxyRequired === true || useProxy === true) uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n            return _context2.abrupt(\"return\", Axios.post(uri, qs.stringify(params), {\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n              },\n              timeout: 25000\n            }).catch(function (err) {\n              if (!useProxy && proxyRequired === false && !err.response) return post(url, params, local, true);\n              return err;\n            }));\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _post.apply(this, arguments);\n}\n\nexport function setDns(data) {\n  if (!data) return; // siguro slash në fund\n\n  if (data[data.length - 1] !== \"/\") data += \"/\";\n  dns = data;\n  Cookies.set(\"dns\", data, {\n    expires: 365\n  });\n}\n/* -------------------- GET DNS -------------------- */\n\nexport function getDns() {\n  return dns;\n}","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/other/axios.js"],"names":["Axios","Cookies","qs","dns","proxyRequired","window","cors","setDns","get","url","uri","encodeURIComponent","timeout","catch","err","post","params","local","useProxy","stringify","headers","response","data","length","set","expires","getDns"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,IAAIC,GAAG,GAAG,IAAV;AACA,IAAIC,aAAa,GAAGC,MAAM,CAACC,IAAP,IAAe,KAAnC;AAEAC,MAAM,CAACF,MAAM,CAACF,GAAR,CAAN;AAEA;;AACA,gBAAsBK,GAAtB;AAAA;AAAA;AAaA;;;kEAbO,iBAAmBC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACEN,GADF;AAAA;AAAA;AAAA;;AAAA,6CACc,IADd;;AAAA;AAGCO,YAAAA,GAHD,GAGOP,GAAG,GAAGM,GAHb;AAKH,gBAAIL,aAAa,KAAK,IAAtB,EACIM,GAAG,GAAG,oBAAoBC,kBAAkB,CAACD,GAAD,CAA5C;AAND,6CAQIV,KAAK,CAACQ,GAAN,CAAUE,GAAV,EAAe;AAClBE,cAAAA,OAAO,EAAE;AADS,aAAf,EAEJC,KAFI,CAEE,UAAAC,GAAG;AAAA,qBAAIA,GAAJ;AAAA,aAFL,CARJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAcP,gBAAsBC,IAAtB;AAAA;AAAA;AAyBA;;;mEAzBO,kBAAoBN,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyBO,YAAAA,MAAzB,8DAAkC,EAAlC;AAAsCC,YAAAA,KAAtC;AAA6CC,YAAAA,QAA7C;;AAAA,gBAEEf,GAFF;AAAA;AAAA;AAAA;;AAAA,8CAEc,IAFd;;AAAA;AAICO,YAAAA,GAJD,GAIOP,GAAG,GAAGM,GAJb;AAMH,gBAAIL,aAAa,KAAK,IAAlB,IAA0Bc,QAAQ,KAAK,IAA3C,EACIR,GAAG,GAAG,oBAAoBC,kBAAkB,CAACD,GAAD,CAA5C;AAPD,8CASIV,KAAK,CAACe,IAAN,CACHL,GADG,EAEHR,EAAE,CAACiB,SAAH,CAAaH,MAAb,CAFG,EAGH;AACII,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX,eADb;AAIIR,cAAAA,OAAO,EAAE;AAJb,aAHG,EASLC,KATK,CASC,UAAAC,GAAG,EAAI;AACX,kBAAI,CAACI,QAAD,IAAad,aAAa,KAAK,KAA/B,IAAwC,CAACU,GAAG,CAACO,QAAjD,EACI,OAAON,IAAI,CAACN,GAAD,EAAMO,MAAN,EAAcC,KAAd,EAAqB,IAArB,CAAX;AACJ,qBAAOH,GAAP;AACH,aAbM,CATJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA0BP,OAAO,SAASP,MAAT,CAAgBe,IAAhB,EAAsB;AACzB,MAAI,CAACA,IAAL,EAAW,OADc,CAGzB;;AACA,MAAIA,IAAI,CAACA,IAAI,CAACC,MAAL,GAAc,CAAf,CAAJ,KAA0B,GAA9B,EACID,IAAI,IAAI,GAAR;AAEJnB,EAAAA,GAAG,GAAGmB,IAAN;AACArB,EAAAA,OAAO,CAACuB,GAAR,CAAY,KAAZ,EAAmBF,IAAnB,EAAyB;AAAEG,IAAAA,OAAO,EAAE;AAAX,GAAzB;AACH;AAED;;AACA,OAAO,SAASC,MAAT,GAAkB;AACrB,SAAOvB,GAAP;AACH","sourcesContent":["import Axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport qs from \"qs\";\n\nlet dns = null;\nlet proxyRequired = window.cors || false;\n\nsetDns(window.dns);\n\n/* -------------------- GET -------------------- */\nexport async function get(url) {\n    if (!dns) return null;\n\n    let uri = dns + url;\n\n    if (proxyRequired === true)\n        uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n\n    return Axios.get(uri, {\n        timeout: 25000\n    }).catch(err => err);\n}\n\n/* -------------------- POST (Xtream Login) -------------------- */\nexport async function post(url, params = {}, local, useProxy) {\n\n    if (!dns) return null;\n\n    let uri = dns + url;\n\n    if (proxyRequired === true || useProxy === true)\n        uri = \"/proxy.php?url=\" + encodeURIComponent(uri);\n\n    return Axios.post(\n        uri,\n        qs.stringify(params),\n        {\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            timeout: 25000\n        }\n    ).catch(err => {\n        if (!useProxy && proxyRequired === false && !err.response)\n            return post(url, params, local, true);\n        return err;\n    });\n}\n\n/* -------------------- SET DNS -------------------- */\nexport function setDns(data) {\n    if (!data) return;\n\n    // siguro slash në fund\n    if (data[data.length - 1] !== \"/\")\n        data += \"/\";\n\n    dns = data;\n    Cookies.set(\"dns\", data, { expires: 365 });\n}\n\n/* -------------------- GET DNS -------------------- */\nexport function getDns() {\n    return dns;\n}\n"]},"metadata":{},"sourceType":"module"}