{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reactv\\\\src\\\\components\\\\Vod\\\\BackgroundPlayer.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8,\n    _templateObject9,\n    _templateObject10,\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { getVodInfo, getSeriesInfo } from \"../../other/load-playlist\";\nimport { optimizeName } from \"../../other/vod-series-name-optimizer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Container = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\nheight: calc(75vh - 3rem);\\nposition: relative;\\nz-index: 1000;\\n\"])));\n_c = Container;\nvar BackgroundImage = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\nposition:absolute;\\nheight:  calc(75vh - 4rem);\\ntop:0;\\nleft:0;\\nz-index: -1;\\nwidth: 100vw;\\nfilter: blur(.3rem);\\n\"])));\n_c2 = BackgroundImage;\nvar VideoContainer = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\nposition: absolute;\\nwidth: 100vw;\\nheight:  calc(75vh - 4rem);\\ntop: 0;\\nleft: 0;\\noverflow: hidden;\\nz-index:-99999;\\nbackground-color: var(--first-color);\\n\\n& > div{\\n    position: absolute;\\n    height: calc(130% + 6rem);\\n    z-index: -99999;\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    -ms-user-select: none;\\n    user-select: none;\\n    width: 150%;\\n    left: -25%;\\n    top: -6rem;\\n    background-color: var(--first-color);\\n}\\n\"])));\n_c3 = VideoContainer;\nvar Overlay = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\npadding: 1rem 2rem;\\n-webkit-text-fill-color: white; /* Will override color (regardless of order) */\\n-webkit-text-stroke-width: 1px;\\n-webkit-text-stroke-color: black;\\nposition:absolute;\\nwidth:100vw;\\nheight: calc(70vh - 3rem);\\nz-index: 2;\\n\"])));\n_c4 = Overlay;\nvar Row = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\nbottom: 0;\\nposition: absolute;\\nwidth: 100%;\\n\"])));\n_c5 = Row;\nvar Image = styled.img(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\nmax-width: 100%;\\nmax-height: 100%;\\nheight: auto;\\n\"])));\n_c6 = Image;\nvar Desc = styled.label(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n-webkit-text-stroke-width: 0px;\\ndisplay: -webkit-box;\\n-webkit-line-clamp: 3;\\n-webkit-box-orient: vertical;\\noverflow: hidden;\\ntext-overflow: ellipsis;\\n\"])));\n_c7 = Desc;\nvar ButtonMain = styled(Link)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\ncolor: black !important;\\n-webkit-text-fill-color: black;\\n-webkit-text-stroke-width: 0px;\\npadding: .6rem 1.5rem;\\ntransition: all .3s ease;\\n\"])));\n_c8 = ButtonMain;\nvar ButtonSecond = styled(Link)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\ncolor: white !important;\\n-webkit-text-fill-color: white;\\n-webkit-text-stroke-width: 0px;\\npadding: .6rem 1.5rem;\\ntransition: all .3s ease;\\n\"])));\n_c9 = ButtonSecond;\nvar Shadow = styled.div(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\nposition: absolute;\\nwidth: 100vw;\\nheight: 23vh;\\nbottom: 0;\\nleft: 0;\\nz-index: 0;\\nbackground-image: linear-gradient(180deg,transparent,rgba(37,37,37,.61),var(--first-color));\\n\\n\"])));\n_c10 = Shadow;\n\nvar BackgroundPlayer = function BackgroundPlayer(_ref) {\n  _s();\n\n  var name = _ref.name,\n      stream_icon = _ref.stream_icon,\n      stream_id = _ref.stream_id,\n      category_id = _ref.category_id,\n      isSeries = _ref.isSeries,\n      style = _ref.style,\n      title = _ref.title,\n      existingTmdb = _ref.existingTmdb;\n\n  var _useState = useState(optimizeName(name)),\n      _useState2 = _slicedToArray(_useState, 2),\n      Name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(stream_icon),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ImageSrc = _useState4[0],\n      setImageSrc = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Description = _useState6[0],\n      setDescription = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      youtubeId = _useState8[0],\n      setYoutubeId = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      backdropPath = _useState10[0],\n      setBackdropPath = _useState10[1];\n\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                (isSeries ? getSeriesInfo(stream_id, name, true, existingTmdb) : getVodInfo(stream_id, name, existingTmdb)).then(function (result) {\n                  if (result && result.info) {\n                    result = result.info;\n                    result.name && setName(result.name);\n                    result.image && setImageSrc(result.image);\n                    result.cover && setImageSrc(result.cover);\n                    result.description && setDescription(result.description);\n                    result.youtube_trailer && setYoutubeId(result.youtube_trailer);\n                    result.backdrop_path && result.backdrop_path.length > 0 && setBackdropPath(result.backdrop_path[0]);\n                  }\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, [stream_id]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"parent\",\n    style: style,\n    children: [youtubeId || !backdropPath ? /*#__PURE__*/_jsxDEV(VideoContainer, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: youtubeId && /*#__PURE__*/_jsxDEV(\"iframe\", {\n          frameBorder: \"0\",\n          height: \"100%\",\n          width: \"100%\",\n          title: \"youtube-bg\",\n          src: \"https://youtube.com/embed/\".concat(youtubeId, \"?autoplay=1&controls=0&showinfo=0&autohide=1&mute=1&loop=1&disablekb=1&modestbranding=1&playlist=\").concat(youtubeId, \"&origin=http://localhost:3006\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 40\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 18\n    }, _this) : /*#__PURE__*/_jsxDEV(BackgroundImage, {\n      style: {\n        background: \"url(\\\"\".concat(backdropPath, \"\\\") no-repeat center center fixed\")\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 18\n    }, _this), /*#__PURE__*/_jsxDEV(Overlay, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: title ? title : isSeries ? \"Series\" : \"Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-2\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: ImageSrc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Desc, {\n            children: Description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [isSeries !== true && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-auto\",\n              children: /*#__PURE__*/_jsxDEV(ButtonMain, {\n                type: \"button\",\n                id: \"btn-1\",\n                className: \"btn btn-light vod\",\n                to: \"/movie/category/\".concat(category_id, \"/\").concat(stream_id, \"/play/\"),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-play mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 41\n                }, _this), \"Play\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 33\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-auto\",\n              children: /*#__PURE__*/_jsxDEV(ButtonSecond, {\n                type: \"button\",\n                id: \"btn-2\",\n                className: \"btn btn-secondary vod\",\n                to: \"/\".concat(isSeries ? \"series\" : \"movie\", \"/category/\").concat(category_id, \"/\").concat(stream_id, \"/info/\"),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-info-circle mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 37\n                }, _this), \"More info\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Shadow, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(BackgroundPlayer, \"p3H1jRz/SQq0I9+9TNEXiTV6Z+o=\");\n\n_c11 = BackgroundPlayer;\nexport default BackgroundPlayer;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"BackgroundImage\");\n$RefreshReg$(_c3, \"VideoContainer\");\n$RefreshReg$(_c4, \"Overlay\");\n$RefreshReg$(_c5, \"Row\");\n$RefreshReg$(_c6, \"Image\");\n$RefreshReg$(_c7, \"Desc\");\n$RefreshReg$(_c8, \"ButtonMain\");\n$RefreshReg$(_c9, \"ButtonSecond\");\n$RefreshReg$(_c10, \"Shadow\");\n$RefreshReg$(_c11, \"BackgroundPlayer\");","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/components/Vod/BackgroundPlayer.js"],"names":["React","useEffect","useState","Link","styled","getVodInfo","getSeriesInfo","optimizeName","Container","div","BackgroundImage","VideoContainer","Overlay","Row","Image","img","Desc","label","ButtonMain","ButtonSecond","Shadow","BackgroundPlayer","name","stream_icon","stream_id","category_id","isSeries","style","title","existingTmdb","Name","setName","ImageSrc","setImageSrc","Description","setDescription","youtubeId","setYoutubeId","backdropPath","setBackdropPath","fetchData","then","result","info","image","cover","description","youtube_trailer","backdrop_path","length","background"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport  {Link}  from 'react-router-dom'\nimport styled from 'styled-components'\nimport {getVodInfo, getSeriesInfo} from \"../../other/load-playlist\"\nimport {optimizeName} from \"../../other/vod-series-name-optimizer\"\n\nconst Container = styled.div`\nheight: calc(75vh - 3rem);\nposition: relative;\nz-index: 1000;\n`\n\nconst BackgroundImage = styled.div`\nposition:absolute;\nheight:  calc(75vh - 4rem);\ntop:0;\nleft:0;\nz-index: -1;\nwidth: 100vw;\nfilter: blur(.3rem);\n`\n\nconst VideoContainer = styled.div`\nposition: absolute;\nwidth: 100vw;\nheight:  calc(75vh - 4rem);\ntop: 0;\nleft: 0;\noverflow: hidden;\nz-index:-99999;\nbackground-color: var(--first-color);\n\n& > div{\n    position: absolute;\n    height: calc(130% + 6rem);\n    z-index: -99999;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    width: 150%;\n    left: -25%;\n    top: -6rem;\n    background-color: var(--first-color);\n}\n`\n\nconst Overlay = styled.div`\npadding: 1rem 2rem;\n-webkit-text-fill-color: white; /* Will override color (regardless of order) */\n-webkit-text-stroke-width: 1px;\n-webkit-text-stroke-color: black;\nposition:absolute;\nwidth:100vw;\nheight: calc(70vh - 3rem);\nz-index: 2;\n`\n\nconst Row = styled.div`\nbottom: 0;\nposition: absolute;\nwidth: 100%;\n`\n\nconst Image = styled.img`\nmax-width: 100%;\nmax-height: 100%;\nheight: auto;\n`\n\nconst Desc = styled.label`\n-webkit-text-stroke-width: 0px;\ndisplay: -webkit-box;\n-webkit-line-clamp: 3;\n-webkit-box-orient: vertical;\noverflow: hidden;\ntext-overflow: ellipsis;\n`\n\nconst ButtonMain = styled(Link)`\ncolor: black !important;\n-webkit-text-fill-color: black;\n-webkit-text-stroke-width: 0px;\npadding: .6rem 1.5rem;\ntransition: all .3s ease;\n`\n\nconst ButtonSecond = styled(Link)`\ncolor: white !important;\n-webkit-text-fill-color: white;\n-webkit-text-stroke-width: 0px;\npadding: .6rem 1.5rem;\ntransition: all .3s ease;\n`\n\nconst Shadow  = styled.div`\nposition: absolute;\nwidth: 100vw;\nheight: 23vh;\nbottom: 0;\nleft: 0;\nz-index: 0;\nbackground-image: linear-gradient(180deg,transparent,rgba(37,37,37,.61),var(--first-color));\n\n`\n\nconst BackgroundPlayer = ({name, stream_icon, stream_id, category_id, isSeries, style, title, existingTmdb}) => {\n    const [Name, setName] = useState(optimizeName(name))\n    const [ImageSrc, setImageSrc] = useState(stream_icon)\n    const [Description, setDescription] = useState(\"\")\n    const [youtubeId, setYoutubeId] = useState(null)\n    const [backdropPath, setBackdropPath] = useState(null)\n\n    useEffect(() => {\n        async function fetchData() {\n            (isSeries ? getSeriesInfo(stream_id,name, true, existingTmdb) : getVodInfo(stream_id,name, existingTmdb)).then(result =>{\n                if(result && result.info){\n                    result = result.info;\n                    result.name && (setName(result.name))\n                    result.image && (setImageSrc(result.image))\n                    result.cover && (setImageSrc(result.cover))\n                    result.description && (setDescription(result.description))\n                    result.youtube_trailer && setYoutubeId(result.youtube_trailer)\n                    result.backdrop_path && result.backdrop_path.length > 0 && (setBackdropPath(result.backdrop_path[0]))\n                }\n            })\n        }\n        fetchData(); \n    }, [stream_id])\n\n    return (\n        <Container className=\"parent\" style={style}>\n            {\n            (youtubeId || !backdropPath) ?\n                (<VideoContainer>\n                    <div>\n                        {youtubeId && (<iframe frameBorder=\"0\" height=\"100%\" width=\"100%\" title=\"youtube-bg\"\n                          src={`https://youtube.com/embed/${youtubeId}?autoplay=1&controls=0&showinfo=0&autohide=1&mute=1&loop=1&disablekb=1&modestbranding=1&playlist=${youtubeId}&origin=http://localhost:3006`}>\n                        </iframe>)\n                    }\n                    </div>\n                </VideoContainer>)\n            :\n                (<BackgroundImage style={{background: `url(\"${backdropPath}\") no-repeat center center fixed`}}/>)\n            }\n            <Overlay>\n                <h1><b>{title ? title : (isSeries ? \"Series\" : \"Movies\")}</b></h1>\n                <Row className=\"row\">\n                    <div className=\"col-2\">\n                        <Image src={ImageSrc}/>\n                    </div>\n                    <div className=\"col-4\">\n                        <h3><b>{Name}</b></h3>\n                        <Desc>{Description}</Desc>\n                        <br/>\n                        <div className=\"row\">\n                            {isSeries !== true && (\n                                <div className=\"col-auto\">\n                                    <ButtonMain type=\"button\" id=\"btn-1\" className=\"btn btn-light vod\" to={`/movie/category/${category_id}/${stream_id}/play/`}>\n                                        <i className=\"fas fa-play mr-2\"></i>\n                                        Play\n                                    </ButtonMain>\n                                </div>)\n                            }\n                            <div className=\"col-auto\">\n                                <ButtonSecond type=\"button\" id=\"btn-2\" className=\"btn btn-secondary vod\" to={`/${isSeries ? \"series\" : \"movie\"}/category/${category_id}/${stream_id}/info/`}>\n                                    <i className=\"fas fa-info-circle mr-2\"></i>\n                                    More info\n                                </ButtonSecond>\n                            </div>\n                        </div>\n                        \n                    </div>\n                </Row>\n            </Overlay>\n            <Shadow/>\n        </Container>\n    )\n}\n\nexport default BackgroundPlayer\n"]},"metadata":{},"sourceType":"module"}