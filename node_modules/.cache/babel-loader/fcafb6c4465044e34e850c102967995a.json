{"ast":null,"code":"import _objectSpread from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reactv\\\\src\\\\components\\\\Series\\\\Seasons.js\",\n    _templateObject,\n    _templateObject2,\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styled from \"styled-components\";\nimport Episode from './Episode';\nimport { useDispatch } from \"react-redux\";\nimport { setPlaylistEpisodes } from \"../../actions/set-Playlist-Episodes\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport DB from \"../../other/local-db\";\nimport { generateUrl } from \"../../other/generate-url\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Select = styled.select(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\ndisplay: flex;\\nalign-items: center;\\nmin-width: 4em;\\nposition: relative;\\nfont-size: 1.3rem;\\nbackground-color: rgb(36, 36, 36);\\ncolor: white;\\ncursor: pointer;\\nborder: 0.1em solid rgb(77, 77, 77);\\nborder-radius: 0.2em;\\noutline: 0;\\nfont-weight: 600;\\npadding: 0.3rem 0.5rem;\\n\\ntransition: all 0.2s ease;\\n\\n&:focus, &:hover{\\n    border-color: white;\\n    box-shadow: 0 0 0 0.2rem rgb(255 255 255 / 25%);\\n}\\n\\n& > option{\\n\\n}\\n\"])));\n_c = Select;\nvar Container = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n\\nmargin-top:1rem;\\n\"])));\n_c2 = Container;\n\nvar Seasons = function Seasons(_ref) {\n  _s();\n\n  var seasonData = _ref.seasonData,\n      cover = _ref.cover;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      seasons = _useState2[0],\n      setSeasons = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      streamStat = _useState4[0],\n      setStreamStat = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedSeason = _useState6[0],\n      setSelectedSeason = _useState6[1];\n\n  var _useParams = useParams(),\n      stream_id = _useParams.stream_id;\n\n  var history = useHistory();\n  var location = useLocation();\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (!seasonData) return;\n    var s = Object.keys(seasonData).map(function (x) {\n      return {\n        id: parseInt(x),\n        name: \"Season \" + x,\n        episodes: seasonData[x].map(function (y) {\n          return _objectSpread(_objectSpread({}, y), {}, {\n            episode_num: parseInt(y.episode_num),\n            url: y.url || y.direct_source || generateUrl(\"series\", y.id, y.container_extension),\n            url2: generateUrl(\"series\", y.id, y.container_extension)\n          });\n        })\n      };\n    });\n\n    if (s.length > 0) {\n      setSeasons(s);\n      var stat = DB.findOne(\"series\", stream_id);\n      !stat && (stat = {\n        id: stream_id,\n        season: s[0].id,\n        episode: s[0].episodes[0].episode_num,\n        start: 0\n      });\n      stat.season = parseInt(stat.season);\n      stat.episode = parseInt(stat.episode);\n\n      if (stat.tot > 95 || stat.tot < 3) {\n        stat.tot = 0;\n        var season = s.find(function (x) {\n          return x.id === stat.season;\n        });\n\n        if (season.episodes[season.episodes.length - 1].episode_num > stat.episode) {\n          stat.episode++;\n        } else {\n          season = s.find(function (x) {\n            return x.id === stat.season + 1;\n          });\n\n          if (season && season.episodes && season.episodes.length > 0) {\n            stat.season = season.id;\n            stat.episode = season.episodes[0].episode_num;\n          } else stat = {\n            id: stream_id,\n            season: s[0].id,\n            episode: s[0].episodes[0].episode_num,\n            start: 0\n          };\n        }\n      }\n\n      setSelectedSeason(stat.season);\n      setStreamStat(stat);\n    }\n  }, [seasonData, stream_id]);\n\n  var playEpisode = function playEpisode(episode) {\n    var list = seasons.find(function (x) {\n      return x.id === selectedSeason;\n    }).episodes.map(function (x) {\n      return _objectSpread(_objectSpread({}, x), {}, {\n        id: x.info.id\n      });\n    });\n    dispatch(setPlaylistEpisodes(list));\n    history.push(location.pathname.replace(\"info\", \"play/season/\".concat(selectedSeason, \"/episode/\").concat(episode)));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-8\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Episodes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          className: \"form-select btn-block\",\n          onChange: function onChange(e) {\n            return setSelectedSeason(parseInt(e.target.value));\n          },\n          value: selectedSeason || seasons[0] && seasons[0].id,\n          children: seasons.map(function (x) {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: x.id,\n              selected: selectedSeason === x.id,\n              children: [x.name, \" (\", x.episodes.length, \" episodes)\"]\n            }, \"season-\" + x.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 38\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(Container, {\n      children: streamStat && seasons.find(function (x) {\n        return x.id === selectedSeason;\n      }) && seasons.find(function (x) {\n        return x.id === selectedSeason;\n      }).episodes.map(function (ep) {\n        return /*#__PURE__*/_jsxDEV(Episode, {\n          episode: ep.episode_num,\n          image: ep.info.movie_image || cover,\n          cover: cover,\n          duration: ep.info.duration_secs,\n          title: ep.title,\n          description: ep.overview,\n          selected: ep.episode_num === streamStat.episode,\n          percentage: ep.episode_num === streamStat.episode ? streamStat.tot : false,\n          playEpisode: playEpisode,\n          url: ep.url2\n        }, \"ep-\" + ep.episode_num, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Seasons, \"wp6i4kpuyoIg9U/pdwA8tuwdrwY=\", false, function () {\n  return [useParams, useHistory, useLocation, useDispatch];\n});\n\n_c3 = Seasons;\nexport default Seasons;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Select\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Seasons\");","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/components/Series/Seasons.js"],"names":["React","useState","useEffect","styled","Episode","useDispatch","setPlaylistEpisodes","useHistory","useLocation","useParams","DB","generateUrl","Select","select","Container","div","Seasons","seasonData","cover","seasons","setSeasons","streamStat","setStreamStat","selectedSeason","setSelectedSeason","stream_id","history","location","dispatch","s","Object","keys","map","x","id","parseInt","name","episodes","y","episode_num","url","direct_source","container_extension","url2","length","stat","findOne","season","episode","start","tot","find","playEpisode","list","info","push","pathname","replace","e","target","value","ep","movie_image","duration_secs","title","overview"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport styled from \"styled-components\"\nimport Episode from './Episode'\nimport {useDispatch} from \"react-redux\"\nimport {setPlaylistEpisodes} from \"../../actions/set-Playlist-Episodes\"\nimport {useHistory, useLocation, useParams} from \"react-router-dom\";\nimport DB from \"../../other/local-db\"\nimport {generateUrl} from \"../../other/generate-url\"\n\nconst Select = styled.select`\ndisplay: flex;\nalign-items: center;\nmin-width: 4em;\nposition: relative;\nfont-size: 1.3rem;\nbackground-color: rgb(36, 36, 36);\ncolor: white;\ncursor: pointer;\nborder: 0.1em solid rgb(77, 77, 77);\nborder-radius: 0.2em;\noutline: 0;\nfont-weight: 600;\npadding: 0.3rem 0.5rem;\n\ntransition: all 0.2s ease;\n\n&:focus, &:hover{\n    border-color: white;\n    box-shadow: 0 0 0 0.2rem rgb(255 255 255 / 25%);\n}\n\n& > option{\n\n}\n`\n\nconst Container = styled.div`\n\nmargin-top:1rem;\n`\n\nconst Seasons = ({seasonData, cover}) => {\n    const [seasons,setSeasons] = useState([])\n    const [streamStat, setStreamStat] = useState({})\n    const [selectedSeason, setSelectedSeason] = useState();\n\n    const {stream_id} = useParams();\n\n    const history = useHistory();\n    const location = useLocation();\n    const dispatch = useDispatch();\n    \n    useEffect(()=>{\n        if(!seasonData)\n            return;\n        const s = Object.keys(seasonData).map(x => {\n            return {\n                id: parseInt(x),\n                name: \"Season \" + x,\n                episodes: seasonData[x].map(y => {\n                    return {\n                        ...y,\n                        episode_num: parseInt(y.episode_num),\n                        url:  y.url || y.direct_source || generateUrl(\"series\", y.id, y.container_extension),\n                        url2: generateUrl(\"series\", y.id, y.container_extension)\n                    }\n                })\n            }\n        });\n        if(s.length > 0){\n            setSeasons(s);\n\n            let stat = DB.findOne(\"series\",stream_id);\n            (!stat && (stat={id: stream_id, season: s[0].id, episode: s[0].episodes[0].episode_num, start:0}))\n            \n            stat.season = parseInt(stat.season);\n            stat.episode = parseInt(stat.episode);\n\n            if(stat.tot>95 || stat.tot< 3){\n                stat.tot = 0;\n                let season = s.find(x=>x.id === stat.season);\n                 \n                if(season.episodes[season.episodes.length-1].episode_num > stat.episode){\n                    stat.episode++;\n                }else{\n                    season = s.find(x=>x.id === stat.season+1);\n                    if(season && season.episodes && season.episodes.length >0){\n                        stat.season = season.id;\n                        stat.episode = season.episodes[0].episode_num\n                    }else stat={id: stream_id, season: s[0].id, episode: s[0].episodes[0].episode_num, start:0}\n                } \n            }\n                \n            setSelectedSeason(stat.season);\n            setStreamStat(stat)\n        }\n    }, [seasonData, stream_id])\n\n    const playEpisode = (episode) =>{\n        const list = seasons.find(x=>x.id === selectedSeason).episodes.map(x=> {return{...x, id:x.info.id}});\n        dispatch(setPlaylistEpisodes(list))\n        history.push(location.pathname.replace(\"info\",`play/season/${selectedSeason}/episode/${episode}`))\n    }\n\n    return (\n        <>\n        <div className=\"row\">\n            <div className=\"col-8\">\n                <h3>Episodes</h3>\n            </div>\n            <div className=\"col-4\">\n                <Select className=\"form-select btn-block\" onChange={e=> setSelectedSeason(parseInt(e.target.value))} value={selectedSeason || (seasons[0] && (seasons[0].id))} >\n                    {seasons.map(x=> <option value={x.id} selected={selectedSeason === x.id} key={\"season-\"+x.id}>{x.name} ({x.episodes.length} episodes)</option>)}\n                </Select>\n            </div>\n        </div>\n        <Container>\n            {streamStat && seasons.find(x=> x.id === selectedSeason) && (\n                seasons.find(x=> x.id === selectedSeason).episodes.map(ep=>\n                    <Episode  key={\"ep-\"+ep.episode_num}\n                    episode={ep.episode_num} \n                    image={ep.info.movie_image || cover}\n                    cover={cover}\n                    duration={ep.info.duration_secs}\n                    title={ep.title}\n                    description={ep.overview}\n                    selected={ep.episode_num===streamStat.episode}\n                    percentage={ep.episode_num===streamStat.episode ? streamStat.tot : false}\n                    playEpisode={playEpisode}\n                    url={ep.url2}\n                    />    \n                )\n            )}\n        </Container>\n        </>\n    )\n}\n\nexport default Seasons\n"]},"metadata":{},"sourceType":"module"}