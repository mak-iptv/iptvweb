{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Axios from \"axios\";\nimport Cookies from 'js-cookie';\nimport qs from \"qs\";\nvar dns = null;\nvar proxyRequired = window.cors;\nvar isIptveditor = null;\nsetDns(window.dns);\nexport function get(_x) {\n  return _get.apply(this, arguments);\n}\n\nfunction _get() {\n  _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url) {\n    var timeout,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            timeout = _args.length > 1 && _args[1] !== undefined ? _args[1] : 1;\n            return _context.abrupt(\"return\", Axios.get(url).catch(function (err) {\n              return err;\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _get.apply(this, arguments);\n}\n\nexport function post(_x2) {\n  return _post.apply(this, arguments);\n}\n\nfunction _post() {\n  _post = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url) {\n    var params,\n        local,\n        useProxy,\n        uri,\n        key,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            params = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n            local = _args2.length > 2 ? _args2[2] : undefined;\n            useProxy = _args2.length > 3 ? _args2[3] : undefined;\n\n            if (dns) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", null);\n\n          case 5:\n            uri = url;\n\n            if (!(local === true && !window.location.origin.match(/iptveditor\\.com|localhost/))) {\n              _context2.next = 8;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Axios.post(uri, qs.stringify(params)).catch(function (err) {\n              return err;\n            }));\n\n          case 8:\n            if (isIptveditor === false) {\n              uri += \"?\";\n\n              for (key in params) {\n                uri += key + \"=\" + encodeURIComponent(params[key]) + \"&\";\n              }\n            }\n\n            if ((proxyRequired || useProxy) === true && isIptveditor === true) uri = \"/proxy.php?url=\" + encodeURIComponent(dns);else if ((proxyRequired || useProxy) === true && isIptveditor === false) uri = \"/proxy.php?url=\" + encodeURIComponent(dns + uri);else if (isIptveditor === false) uri = dns + uri;else uri = dns;\n            return _context2.abrupt(\"return\", isIptveditor === true && !(proxyRequired || useProxy) ? Axios.post(uri, qs.stringify(params)) : Axios.get(uri, {\n              headers: {\n                'User-Agent': 'Mozilla/6.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.55 Safari/537.36 Edge/86.0.622.28'\n              },\n              timeout: 25000\n            }).catch(function (err) {\n              if (proxyRequired === false && !useProxy && !err.response) return post(url, params, local, true);\n              return err;\n            }));\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _post.apply(this, arguments);\n}\n\nexport function setDns(data) {\n  if (!data) return;\n  if (window.location.protocol !== 'https:' && data.includes(\"https\")) data = data.replace(\"https\", \"http\");else if (window.location.protocol === 'https:' && !data.includes(\"https\")) data = data.replace(\"http\", \"https\");\n  isIptveditor = false;\n  if (window.isDebug === 1) data = window.dns;else if (isIptveditor === true && window.isDebug !== 1) data = \"\".concat(process.env.REACT_APP_IPTVEDITOR_API, \"webplayer\");else {\n    if (data[data.length - 1] !== \"/\") data += \"/\";\n  }\n  dns = data;\n  Cookies.set(\"dns\", data, {\n    expires: 365\n  });\n}\nexport function getDns() {\n  return dns;\n}\nexport function getIsIptveditor() {\n  return isIptveditor;\n}","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/other/axios.js"],"names":["Axios","Cookies","qs","dns","proxyRequired","window","cors","isIptveditor","setDns","get","url","timeout","catch","err","post","params","local","useProxy","uri","location","origin","match","stringify","key","encodeURIComponent","headers","response","data","protocol","includes","replace","isDebug","process","env","REACT_APP_IPTVEDITOR_API","length","set","expires","getDns","getIsIptveditor"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport Cookies from 'js-cookie'\nimport qs from \"qs\"\n\nlet dns = null;\nlet proxyRequired = window.cors;\nlet isIptveditor = null;\n\nsetDns(window.dns);\n\nexport async function get(url, timeout = 1) {\n    return Axios.get(url).catch(err => err);\n}\n\nexport async function post(url, params = {}, local, useProxy) {\n    if (!dns)\n        return null;\n\n    let uri = url\n\n    if (local === true && !window.location.origin.match(/iptveditor\\.com|localhost/)) {\n        return Axios.post(uri, qs.stringify(params)).catch(err => err)\n    }\n\n    if (isIptveditor === false) {\n        uri += \"?\";\n        for (const key in params) {\n            uri += key + \"=\" + encodeURIComponent(params[key]) + \"&\";\n        }\n    }\n\n    if ((proxyRequired || useProxy) === true && isIptveditor === true)\n        uri = \"/proxy.php?url=\" + encodeURIComponent(dns);\n    else if ((proxyRequired || useProxy) === true && isIptveditor === false)\n        uri = \"/proxy.php?url=\" + encodeURIComponent(dns + uri);\n    else if (isIptveditor === false)\n        uri = dns + uri;\n    else uri = dns;\n\n    return isIptveditor === true && !(proxyRequired || useProxy)?\n        Axios.post(uri, qs.stringify(params)) :\n        Axios.get(uri, {\n            headers: {\n                'User-Agent': 'Mozilla/6.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.55 Safari/537.36 Edge/86.0.622.28'\n            },\n            timeout: 25000\n        }).catch(err => {\n            if(proxyRequired === false && !useProxy && !err.response)\n                return post(url, params, local, true)\n            return err\n        });\n\n}\n\n\nexport function setDns(data) {\n    if (!data)\n        return;\n    if (window.location.protocol !== 'https:' && data.includes(\"https\"))\n        data = data.replace(\"https\", \"http\");\n    else if (window.location.protocol === 'https:' && !data.includes(\"https\"))\n        data = data.replace(\"http\", \"https\");\n\n    isIptveditor = false;\n\n\n    if (window.isDebug === 1)\n        data = window.dns;\n    else if (isIptveditor === true && window.isDebug !== 1)\n        data = `${process.env.REACT_APP_IPTVEDITOR_API}webplayer`;\n    else {\n        if (data[data.length - 1] !== \"/\")\n            data += \"/\";\n    }\n\n    dns = data;\n    Cookies.set(\"dns\", data, { expires: 365 })\n}\n\nexport function getDns() {\n    return dns;\n}\n\nexport function getIsIptveditor() {\n    return isIptveditor;\n}"]},"metadata":{},"sourceType":"module"}