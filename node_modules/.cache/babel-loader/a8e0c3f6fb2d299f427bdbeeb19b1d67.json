{"ast":null,"code":"import _slicedToArray from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\rayuv\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reactv\\\\src\\\\components\\\\Epg-Fullscreen\\\\Programme.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setEpgPopup } from \"../../actions/epgPopup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar dateFormat = require(\"dateformat\");\n\nvar Container = styled.li(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\nposition: absolute;\\nleft: 0;\\nheight: 100%;\\nbackground-color: #fff;\\ntransition: all 0.3s ease 0s;\\n\\n&:hover, &:focus{\\n    /*z-index: 2;\\n    width: fit-content !important;\\n    max-width: 600px;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    overflow: hidden;*/\\n    outline-width: 0px;\\n}\\n\\n&:focus{\\n    border: 1px solid #0071ff;\\n    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\\n    outline-width: 0px;\\n    border-radius: .25rem;\\n}\\n\\n& > div{\\n    text-align: initial;\\n    position: relative;\\n    color: #303030;\\n    background-color: #f0f0f0;\\n    margin-right: 2px;\\n    margin-left: 2px;\\n    height: 100%;\\n    border-radius: .25rem;\\n    transition: all 0.3s ease 0s;\\n\\n\\n    &:hover, &:focus{\\n        cursor: pointer;\\n        border: 1px solid #0071ff;\\n        box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\\n        outline-width: 0px;\\n    }\\n}\\n\\n& > div > div{\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: nowrap;\\n    height: 100%;\\n}\\n\"])));\n_c = Container;\nvar BodyData = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\npadding: 1rem 1.5rem;\\nheight: 100%;\\n\\ntext-overflow: ellipsis;\\nwhite-space: nowrap;\\noverflow: hidden;\\n\"])));\n_c2 = BodyData;\nvar Title = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\nmargin: 0;\\nfont-size: 1rem;\\nfont-weight: 500;\\nline-height: 1.125rem;\\n\\ntext-overflow: ellipsis;\\nwhite-space: nowrap;\\noverflow: hidden;\\n\"])));\n_c3 = Title;\nvar Description = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\npadding-top: .25rem;\\nfont-size: .875rem;\\nmax-width: 500px;\\nflex-wrap: nowrap!important;\\n\\ntext-overflow: ellipsis;\\nwhite-space: nowrap;\\noverflow: hidden;\\n\"])));\n_c4 = Description;\nvar Time = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\npadding-top: .75rem;\\nfont-size: .875rem;\\n\\ntext-overflow: ellipsis;\\nwhite-space: nowrap;\\noverflow: hidden;\\n\"])));\n_c5 = Time;\nvar ProgressBar = styled.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 0;\\nbottom: 0;\\nleft: 0;\\nright: 0;\\n\"])));\n_c6 = ProgressBar;\nvar Progress = styled.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\nbackground: repeating-linear-gradient(45deg,rgba(0,0,0,.5),rgba(0,0,0,.5) 1px,#b4c6df 1px,#b4c6df 7px);\\nopacity: .2;\\nheight: 100%;\\n\"])));\n_c7 = Progress;\nvar isActive = {\n  color: \"#fff\",\n  backgroundColor: \"#064497\"\n};\n\nvar Programme = function Programme(_ref) {\n  _s();\n\n  var start = _ref.start,\n      stop = _ref.stop,\n      title = _ref.title,\n      description = _ref.description,\n      dayTime = _ref.dayTime,\n      chId = _ref.chId,\n      liveTime = _ref.liveTime,\n      catchup = _ref.catchup;\n  var dispatch = useDispatch();\n  var timer = useSelector(function (state) {\n    return state.timer60;\n  });\n  var h24Format = useSelector(function (state) {\n    return state.h24;\n  });\n  /*\n  length = each minute is 0.25px;\n  start = each minute is 2.73px\n  */\n\n  /*const startDay = new Date(dayTime);\n  startDay.setHours(0,0,0,0)\n  const endDay = new Date(dayTime);\n  endDay.setHours(23,59,59,9999)\n   start < startDay.getTime() && (start = startDay.getTime())\n  stop > endDay.getTime() && (stop = endDay.getTime())*/\n\n  var _useState = useState(liveTime === true && stop > timer && start <= timer ? (timer - start) / (stop - start) * 100 : false),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeLength = _useState2[0],\n      setActiveLenght = _useState2[1];\n\n  var lengthStyle = (stop - start) / 3600000 * 17;\n  var startStyle = -2 + (start - dayTime) / 3600000 * 17;\n  var Spacing = {\n    minWidth: lengthStyle + \"rem\",\n    width: lengthStyle + \"rem\",\n    transform: \"translateX(\".concat(startStyle, \"rem)\")\n  };\n  useEffect(function () {\n    if (liveTime === false) return;\n\n    if (!(stop > timer && start <= timer)) {\n      if (activeLength) setActiveLenght(false);\n    } else setActiveLenght((timer - start) / (stop - start) * 100);\n  }, [timer, start, stop, activeLength, liveTime]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    tabIndex: 2,\n    \"data-start\": start,\n    \"data-stop\": stop,\n    style: Spacing,\n    onClick: function onClick() {\n      return dispatch(setEpgPopup({\n        title: title,\n        description: description,\n        start: start,\n        stop: stop,\n        catchup: catchup,\n        chId: chId\n      }));\n    },\n    className: activeLength > 0 ? \"isActive\" : \"noActive\",\n    id: \"ch\".concat(chId, \"-\").concat(start),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: activeLength > 0 ? isActive : {},\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(BodyData, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: [catchup > 0 ? /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-history pr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 48\n            }, _this) : \"\", title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Description, {\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Time, {\n            children: [dateFormat(new Date(start), h24Format), \" - \", dateFormat(new Date(stop), h24Format)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n          children: /*#__PURE__*/_jsxDEV(Progress, {\n            style: {\n              width: activeLength ? activeLength + \"%\" : \"0%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Programme, \"1RW29cIY7o9y2nGNw34doZHsM5c=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c8 = Programme;\nexport default Programme;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"BodyData\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Description\");\n$RefreshReg$(_c5, \"Time\");\n$RefreshReg$(_c6, \"ProgressBar\");\n$RefreshReg$(_c7, \"Progress\");\n$RefreshReg$(_c8, \"Programme\");","map":{"version":3,"sources":["C:/Users/rayuv/OneDrive/Documents/GitHub/Reactv/src/components/Epg-Fullscreen/Programme.js"],"names":["React","styled","useState","useEffect","useSelector","useDispatch","setEpgPopup","dateFormat","require","Container","li","BodyData","div","Title","Description","Time","ProgressBar","Progress","isActive","color","backgroundColor","Programme","start","stop","title","description","dayTime","chId","liveTime","catchup","dispatch","timer","state","timer60","h24Format","h24","activeLength","setActiveLenght","lengthStyle","startStyle","Spacing","minWidth","width","transform","Date"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport {useSelector, useDispatch} from \"react-redux\"\nimport {setEpgPopup} from \"../../actions/epgPopup\"\n\nconst dateFormat = require(\"dateformat\");\n\nconst Container = styled.li`\nposition: absolute;\nleft: 0;\nheight: 100%;\nbackground-color: #fff;\ntransition: all 0.3s ease 0s;\n\n&:hover, &:focus{\n    /*z-index: 2;\n    width: fit-content !important;\n    max-width: 600px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;*/\n    outline-width: 0px;\n}\n\n&:focus{\n    border: 1px solid #0071ff;\n    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\n    outline-width: 0px;\n    border-radius: .25rem;\n}\n\n& > div{\n    text-align: initial;\n    position: relative;\n    color: #303030;\n    background-color: #f0f0f0;\n    margin-right: 2px;\n    margin-left: 2px;\n    height: 100%;\n    border-radius: .25rem;\n    transition: all 0.3s ease 0s;\n\n\n    &:hover, &:focus{\n        cursor: pointer;\n        border: 1px solid #0071ff;\n        box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\n        outline-width: 0px;\n    }\n}\n\n& > div > div{\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    height: 100%;\n}\n`\nconst BodyData = styled.div`\npadding: 1rem 1.5rem;\nheight: 100%;\n\ntext-overflow: ellipsis;\nwhite-space: nowrap;\noverflow: hidden;\n`\n\nconst Title = styled.div`\nmargin: 0;\nfont-size: 1rem;\nfont-weight: 500;\nline-height: 1.125rem;\n\ntext-overflow: ellipsis;\nwhite-space: nowrap;\noverflow: hidden;\n`\n\nconst Description = styled.div`\npadding-top: .25rem;\nfont-size: .875rem;\nmax-width: 500px;\nflex-wrap: nowrap!important;\n\ntext-overflow: ellipsis;\nwhite-space: nowrap;\noverflow: hidden;\n`\n\nconst Time = styled.div`\npadding-top: .75rem;\nfont-size: .875rem;\n\ntext-overflow: ellipsis;\nwhite-space: nowrap;\noverflow: hidden;\n`\nconst ProgressBar = styled.div`\nposition: absolute;\ntop: 0;\nbottom: 0;\nleft: 0;\nright: 0;\n`\n\nconst Progress = styled.div`\nbackground: repeating-linear-gradient(45deg,rgba(0,0,0,.5),rgba(0,0,0,.5) 1px,#b4c6df 1px,#b4c6df 7px);\nopacity: .2;\nheight: 100%;\n`\n\nconst isActive = {\n    color: \"#fff\",\n    backgroundColor: \"#064497\"\n}\n\nconst Programme = ({start, stop, title, description, dayTime, chId, liveTime, catchup}) => {\n    const dispatch = useDispatch();\n\n    const timer = useSelector(state => state.timer60);\n    const h24Format = useSelector(state => state.h24);\n    /*\n    length = each minute is 0.25px;\n    start = each minute is 2.73px\n    */\n\n    /*const startDay = new Date(dayTime);\n    startDay.setHours(0,0,0,0)\n    const endDay = new Date(dayTime);\n    endDay.setHours(23,59,59,9999)\n\n    start < startDay.getTime() && (start = startDay.getTime())\n    stop > endDay.getTime() && (stop = endDay.getTime())*/\n\n   const [activeLength, setActiveLenght] = useState(liveTime===true && stop > timer && start <= timer ? ((timer-start)/(stop-start))*100 : false);\n    const lengthStyle = ((stop-start)/3600000)*17;\n    const startStyle = -2+((start-dayTime)/3600000)*17;\n    const Spacing = {\n        minWidth : lengthStyle + \"rem\",\n        width : lengthStyle + \"rem\",\n        transform: `translateX(${startStyle}rem)`\n    }\n\n\n    useEffect(() => {\n        if(liveTime === false)\n            return;\n        if(!(stop > timer && start <= timer)){\n            if(activeLength)\n                setActiveLenght(false);\n        }else setActiveLenght(((timer-start)/(stop-start))*100)\n    }, [timer,start,stop,activeLength, liveTime]);\n\n\n    return (\n        <Container tabIndex={2} data-start={start} data-stop={stop} style={Spacing} onClick={() => dispatch(setEpgPopup(\n            {\n                title: title, \n                description: description, \n                start:start, stop:stop, \n                catchup: catchup,\n                chId}\n            ))} className={activeLength > 0 ? \"isActive\" : \"noActive\"} id={`ch${chId}-${start}`}>\n            <div style={activeLength > 0 ? isActive : {}}>\n                <div>\n                    <BodyData>\n                        <Title>{catchup > 0 ? (<i className=\"fas fa-history pr-2\"></i>) : \"\"}{title}</Title>\n                        <Description>{description}</Description>\n                        <Time>{dateFormat(new Date(start), h24Format)} - {dateFormat(new Date(stop), h24Format)}</Time>\n                    </BodyData>\n                    <ProgressBar>\n                        <Progress style={{width: activeLength ? activeLength + \"%\" : \"0%\"}}></Progress>\n                    </ProgressBar>\n                </div>\n            </div>\n        </Container>\n    )\n}\n\nexport default Programme\n"]},"metadata":{},"sourceType":"module"}